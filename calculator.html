<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engagement Score & Median Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        input, select {
            padding: 5px;
            margin-top: 5px;
        }
        button {
            margin-top: 20px;
            padding: 10px 20px;
        }
        .result {
            margin-top: 20px;
            font-size: 20px;
        }
        .weights, .max-values {
            margin-bottom: 20px;
        }
        .weight-inputs {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Engagement Score & Median Calculator</h1>

    <!-- Display Current Weights and Maximum Values -->
    <div class="weights">
        <h2>Current Weights</h2>
        <p>Likes (W_L): <span id="currentW_L"></span></p>
        <p>Comments (W_C): <span id="currentW_C"></span></p>
        <p>Like-to-Comment Ratio (W_R): <span id="currentW_R"></span></p>
        <p>Followers (W_F): <span id="currentW_F"></span></p>
        <p>Time (W_T): <span id="currentW_T"></span></p>
    </div>

    <div class="max-values">
        <h2>Current Maximum Values</h2>
        <p>Max Likes (L_max): <span id="currentL_max"></span></p>
        <p>Max Comments (C_max): <span id="currentC_max"></span></p>
        <p>Max Followers (F_max): <span id="currentF_max"></span></p>
        <p>Max Like-to-Comment Ratio (R_max): <span id="currentR_max"></span></p>
    </div>

    <!-- Weight Input Fields -->
    <div class="weight-inputs">
        <h2>Adjust Weights</h2>
        <label for="inputW_L">Likes (W_L):</label>
        <input type="number" id="inputW_L" value="0.15" step="0.01" min="0" max="1" onchange="updateWeights()">

        <label for="inputW_C">Comments (W_C):</label>
        <input type="number" id="inputW_C" value="0.25" step="0.01" min="0" max="1" onchange="updateWeights()">

        <label for="inputW_R">Like-to-Comment Ratio (W_R):</label>
        <input type="number" id="inputW_R" value="0.25" step="0.01" min="0" max="1" onchange="updateWeights()">

        <label for="inputW_F">Followers (W_F):</label>
        <input type="number" id="inputW_F" value="0.2" step="0.01" min="0" max="1" onchange="updateWeights()">

        <label for="inputW_T">Time (W_T):</label>
        <input type="number" id="inputW_T" value="0.15" step="0.01" min="0" max="1" onchange="updateWeights()">
    </div>

    <!-- Engagement Score Calculator Form -->
    <form id="scoreForm">
        <label for="likes">Number of Likes:</label>
        <input type="number" id="likes" name="likes" required>

        <label for="comments">Number of Comments:</label>
        <input type="number" id="comments" name="comments" required>

        <label for="followers">Number of Followers:</label>
        <input type="number" id="followers" name="followers" required>

        <label for="time">Time Since Post:</label>
        <input type="number" id="time" name="time" required>
        <select id="timeUnit" name="timeUnit" required>
            <option value="D">Days</option>
            <option value="W">Weeks</option>
            <option value="M">Months</option>
            <option value="Y">Years</option>
        </select>

        <button type="button" onclick="calculateScore()">Calculate Score</button>
    </form>

    <div class="result" id="scoreResult"></div>

    <hr>

    <!-- Median Calculator Form -->
    <form id="medianForm">
        <h2>Median Calculator</h2>
        <div id="medianInputs">
            <!-- Input fields for 10 values will be generated here by JavaScript -->
        </div>
        <button type="button" onclick="calculateMedian()">Calculate Median</button>
    </form>

    <div class="result" id="medianResult"></div>

    <script>
        // Define initial weights and maximum values
        let weights = {
            W_L: 0.15,
            W_C: 0.25,
            W_R: 0.25,
            W_F: 0.2,
            W_T: 0.15
        };

        const maxValues = {
            L_max: 1000,
            C_max: 100,
            F_max: 50000,
            R_max: 20
        };

        // Display initial weights and maximum values
        window.onload = function() {
            displayWeights();
            document.getElementById('currentL_max').innerText = maxValues.L_max;
            document.getElementById('currentC_max').innerText = maxValues.C_max;
            document.getElementById('currentF_max').innerText = maxValues.F_max;
            document.getElementById('currentR_max').innerText = maxValues.R_max;

            generateMedianInputs();
        };

        // Function to display current weights
        function displayWeights() {
            document.getElementById('currentW_L').innerText = weights.W_L;
            document.getElementById('currentW_C').innerText = weights.W_C;
            document.getElementById('currentW_R').innerText = weights.W_R;
            document.getElementById('currentW_F').innerText = weights.W_F;
            document.getElementById('currentW_T').innerText = weights.W_T;
        }

        // Function to update weights
        function updateWeights() {
            weights.W_L = parseFloat(document.getElementById('inputW_L').value);
            weights.W_C = parseFloat(document.getElementById('inputW_C').value);
            weights.W_R = parseFloat(document.getElementById('inputW_R').value);
            weights.W_F = parseFloat(document.getElementById('inputW_F').value);
            weights.W_T = parseFloat(document.getElementById('inputW_T').value);

            // Update displayed weights
            displayWeights();
        }

        // Calculate engagement score
        function calculateScore() {
            const likes = parseFloat(document.getElementById('likes').value);
            const comments = parseFloat(document.getElementById('comments').value);
            const followers = parseFloat(document.getElementById('followers').value);
            const time = parseFloat(document.getElementById('time').value);
            const timeUnit = document.getElementById('timeUnit').value;

            let timeInDays;
            switch(timeUnit) {
                case 'D':
                    timeInDays = time;
                    break;
                case 'W':
                    timeInDays = time * 7;
                    break;
                case 'M':
                    timeInDays = time * 30;
                    break;
                case 'Y':
                    timeInDays = time * 365;
                    break;
                default:
                    timeInDays = time;
            }

            const likeToCommentRatio = likes / comments;

            const score = ((likes / maxValues.L_max) * weights.W_L) + 
                          ((comments / maxValues.C_max) * weights.W_C) + 
                          ((likeToCommentRatio / maxValues.R_max) * weights.W_R) + 
                          ((followers / maxValues.F_max) * weights.W_F) + 
                          ((1 / timeInDays) * weights.W_T);

            document.getElementById('scoreResult').innerText = `Engagement Score: ${score.toFixed(2)}`;
        }

        // Generate input fields for median calculator
        function generateMedianInputs() {
            const medianInputsDiv = document.getElementById('medianInputs');
            for (let i = 1; i <= 10; i++) {
                const label = document.createElement('label');
                label.textContent = `Value ${i}:`;
                const input = document.createElement('input');
                input.type = 'number';
                input.id = `medianValue${i}`;
                input.name = `medianValue${i}`;
                input.required = true;
                medianInputsDiv.appendChild(label);
                medianInputsDiv.appendChild(input);
            }
        }

        // Calculate median
        function calculateMedian() {
            const values = [];
            for (let i = 1; i <= 10; i++) {
                values.push(parseFloat(document.getElementById(`medianValue${i}`).value));
            }
            values.sort((a, b) => a - b);
            const median = (values[4] + values[5]) / 2;
            document.getElementById('medianResult').innerText = `Median: ${median}`;
        }
    </script>
</body>
</html>
